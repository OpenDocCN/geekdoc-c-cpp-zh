# 前言

> 原文：[`enhancedformysql.github.io/The-Art-of-Problem-Solving-in-Software-Engineering_How-to-Make-MySQL-Better/Preface.html`](https://enhancedformysql.github.io/The-Art-of-Problem-Solving-in-Software-Engineering_How-to-Make-MySQL-Better/Preface.html)


## 本书面向谁？

当软件专业人士遇到复杂问题时，他们常常面临矛盾，并努力寻找解决方案。为了克服这些挑战，将难题视为重大回报的机会至关重要。接受困难挑战可以带来宝贵的见解和突破。

拥有 20 年的问题解决经验，大多数服务器端软件中的难题都可以通过系统性的逻辑分析来解决。尽管 MySQL 在全球范围内享有盛誉，但它也面临着各种问题。解决这些 MySQL 问题的旅程丰富了理解，并导致了独特见解的发展，这些见解激发了本书的写作。

本书使用 MySQL 挑战作为案例研究，探讨问题分析和解决策略。读者将通过实际示例和深入讨论，对逻辑推理、数据结构、算法等方面有更深的理解。

本书涵盖了以下主题：

1.  **MySQL 的逻辑推理**：使用逻辑推理分析复杂 MySQL 问题的技术。

1.  **计算机科学基础**：与 MySQL 相关的计算机科学基础。

1.  **MySQL 内部机制**：MySQL 核心组件基础介绍。

1.  **性能测试**：科学测试 MySQL 性能的方法。

1.  **MySQL 8.0 的改进**：与 MySQL 5.7 相比，MySQL 8.0 的关键改进。

1.  **MySQL 改进**：独立 MySQL 实例的进一步优化。

1.  **组复制进展**：MySQL 组复制中的显著增强。

1.  **二级重放改进**：MySQL 二级重放的优化。

1.  **性能优化技术**：优化 MySQL 应用程序的策略。

**本书的重点**：

建立在增强 MySQL 可伸缩性的目标之上，本书探讨了各种优化策略，以提高吞吐量，减少响应时间，并确保 MySQL 从服务器与主服务器的性能紧密匹配，从而在大多数情况下实现高可用性故障转移，并尽可能减少延迟。

**目标受众**：

1.  **质量导向的开发者**：致力于高质量软件开发的个人。

1.  **问题解决者**：对解决复杂软件问题感兴趣的人。

1.  **MySQL 爱好者**：希望从基础开始理解 MySQL 的读者。

1.  **测试实践者**：热衷于掌握有效测试技术的用户。

1.  **软件架构师**：设计大规模软件系统的那些人。

1.  **性能工程师**：在性能优化方面遇到困难的工程师。

1.  **计算机科学学生**：旨在加强基础知识的学习者。

1.  **MySQL 研究人员**：基于 MySQL 进行研究的学者。

## 本书概述

第一部分完全专注于与 MySQL 相关的问题。第一章探讨了用户如何接近和解决具有挑战性的 MySQL 问题。第二章专注于 MySQL 8.0 中的神秘问题。

第二部分主要涵盖与问题解决相关的基础知识。第三章强调了在有效解决 MySQL 挑战中逻辑推理技能的重要性。第四章提供了理解 MySQL 问题所必需的实用计算机基础知识。第五章介绍了 MySQL 内核基础，为后续的问题解决讨论奠定了基础。第六章涵盖了测试 MySQL 的科学方法。

第三部分主要关注特定问题的分析和改进。第七章突出了 MySQL 8.0 中的显著优化。第八章检查了针对 MySQL 8.0 特定问题的改进。第九章讨论了 MySQL 组复制的增强功能，而第十章专注于 MySQL 从库重放中的改进。这些章节不仅提高了 MySQL 性能，还为构建高可用性集群奠定了基础。

第四部分主要从 MySQL 用户的角度分析性能改进。第十一章介绍了在不更改代码的情况下提高 MySQL 8.0 应用性能的技术。

第五部分是总结。第十二章概述了 MySQL 改进的未来方向，并结束了本书。

## 参考资料和进一步阅读

本书专注于分析和解决 MySQL 问题，因此建议具备一定程度的计算机科学背景。为了支持理解和保持连贯性，关键术语包含在附录的“术语表”部分。对于缺乏 MySQL 基础知识的读者，请参阅附录中的相关内容或咨询[专门的 MySQL 书籍](https://github.com/enhancedformysql/tech-explorer-hub) [69]。

## 特殊术语解释

1.  **平衡重放速度**

    对于 MySQL 从库重放，这定义了平衡重放速度，即 MySQL 从库在正常情况下与主库匹配。当速度达到或低于平衡重放速度时，从库在事务重放进度上没有显著滞后。然而，如果速度超过此阈值，从库在事务重放进度上开始落后于主库。

1.  **双重一**

    专门指代 MySQL 中的两种主要配置：*sync_binlog=1* 和 *innodb_flush_log_at_trx_commit=1*。

1.  **MySQL 从库重放**

    该术语表示异步复制、半同步复制和组复制的常见重放过程。在这本书中，“MySQL 主库”始终用来表示 MySQL 源库，“MySQL 从库”用来表示 MySQL 副本库。

## 部署补充说明

在部署 MySQL 进行测试时，最好尽可能地将测试环境与生产环境相匹配，除非某些配置会显著干扰性能分析。以下是测试过程中与 MySQL 部署相关的具体声明：

1.  当前使用的服务器主流都采用 4 路 NUMA 架构。

1.  服务器通常采用 x86 架构。

1.  使用 NVMe SSD 硬件磁盘，I/O 延迟非常低。

1.  所有测试都是在高性能服务器上进行的，仅代表高性能服务器配置的结果。

1.  所有测试都是在 Linux 操作系统上进行的。

1.  MySQL 独立测试通常使用版本 8.0.27，而 MySQL 集群测试通常使用版本 8.0.32。

1.  MySQL 的改进被称为改进的 MySQL 或修改的 MySQL。

1.  TPC-C 测试中的事务隔离级别设置为*Read Committed*。

1.  用于事务的存储引擎是 InnoDB。

1.  除非另有说明，MySQL 组复制测试中的默认模式是单主模式。

1.  *binlog_format*参数设置为基于行的格式。

1.  MySQL，无论是主节点还是从节点，都使用 GTID（全局事务标识符）。

1.  集群设置包括*replica_preserve_commit_order=on*。

1.  大多数测试基于 BenchmarkSQL TPC-C。

1.  除非另有说明，否则 TPC-C 测试通常基于分区的大表。

1.  由于测试数量众多，相关的软件、硬件和配置在附录中详细说明。

## 如何联系我们

关于本书的配置、补丁和相关信息，请访问我们的网页：[`github.com/enhancedformysql/`](https://github.com/enhancedformysql/)。

通过电子邮件 wangbin579@gmail.com 评论或询问有关本书的技术问题。

## 致谢

本书精心组织了众多个人贡献的丰富思想和知识，包括学术研究和工业实践中的见解。在计算机领域，自然倾向于最新的创新，但我们的历史基础提供了宝贵的教训。本书引用了数十篇文章、博客文章、文档和其他资源，使其成为我宝贵的学习资源。我非常感谢作者们慷慨的知识贡献。

几位个人在本书的撰写中发挥了关键作用，通过审阅草案和提供反馈。我特别感谢王红森、叶金荣、高瑞瑶和高海涛的贡献。当然，我对本书中任何剩余的错误或争议性观点承担全部责任。

最后，我要向我的家人表示最深切的感激，他们坚定不移的支持是我在这近六个月写作旅程中不可或缺的。你们是最好的。

下一页
