# 第十二章：未来方向

> 原文：[`enhancedformysql.github.io/The-Art-of-Problem-Solving-in-Software-Engineering_How-to-Make-MySQL-Better/Chapter12.html`](https://enhancedformysql.github.io/The-Art-of-Problem-Solving-in-Software-Engineering_How-to-Make-MySQL-Better/Chapter12.html)


一个坚实的基础对于推动 MySQL 向更复杂的目标发展至关重要。一旦可扩展性和高可用性得到解决，重点可以转移到以下开发领域。

## 12.1 超图算法的改进

目标是使超图算法实用并提高其性能，重点关注探索并行方法。

## 12.2 Paxos 日志持久性功能的实用实现

目前，Paxos 日志持久性已被证明是可行的。可以努力实现基于 Paxos 日志的崩溃恢复，从而使 Paxos 日志持久性真正实用。

## 12.3 解决并发视图变更挑战

目前，组复制面临着具有挑战性的并发视图变更问题。尽管这些问题发生频率不高，但可以努力完全解决这些问题。

## 12.4 进一步提高可扩展性

MySQL 的可扩展性可以在以下方面进一步改进：

1.  消除额外的闩锁瓶颈，尤其是在非分区环境中。

1.  提高长期性能测试的稳定性。

1.  提高 MySQL 在主流 NUMA 环境中的 NUMA 意识。

1.  解决性能模式对 MySQL 二级重放过程中 NUMA 环境的负面影响。

## 12.5 在低并发下进一步提高 SQL 性能

MySQL 8.0 在低并发下的性能比 5.7 差得多，这需要纠正以避免影响升级到 8.0 的用户。

## 12.6 进一步提升分析 SQL 查询的性能

目前，MySQL 使用单线程模式处理单个 SQL 查询，这可能导致某些统计查询的处理时间过长，从而严重影响用户体验。未来的改进将专注于实现统计 SQL 查询的多线程处理，以减少处理时间并提高性能。

## 12.7 提高二进制日志文件压缩效率和操作稳定性

降低用户存储成本是一个关键焦点。优化 MySQL 的二进制日志压缩率和操作稳定性具有显著的改进潜力，这可能导致巨大的好处。

## 12.8 在主服务器上推进 MySQL 对大型事务的管理

在主流 NUMA 环境中，MySQL 在处理大型事务时的主服务器效率不佳。这个领域具有显著的优化潜力，可能成为未来改进的关键点之一。

## 12.9 进一步探索更好的内存分配工具

目前，jemalloc 4.5 是找到的最佳内存分配工具，但在 ARM 架构上内存消耗高且不稳定。未来的一个关键焦点可能是开发更高效、更稳定的内存分配工具。

## 12.10 集成高性能文件系统

通过更好的文件系统增强 MySQL，特别是提高 MySQL 从库重放的性能。

## 12.11 将人工智能引入 MySQL 系统

将人工智能与 MySQL 集成以实现自动调谐旋钮和学习型数据库监控可能是未来的另一个关键焦点。

### 12.11.1 调谐旋钮

通过参数优化集成人工智能可以显著减少 DBA 的工作量。适合人工智能驱动的优化的关键参数包括：

1.  缓冲池大小

1.  自旋延迟设置

1.  基于环境的动态事务节流限制

1.  动态 XCom 缓存大小调整

1.  MySQL 从库的最大队列大小

1.  Paxos 流水线实例的数量和批处理的大小

1.  在高负载下自动调整参数以提高处理能力

### 12.11.2 基于学习的数据库监控

人工智能可以通过确定跟踪各种数据库指标的最佳时间和方法来优化数据库监控。

## 12.12 总结

编程需要强大的逻辑推理技能，这对于问题解决、算法设计、调试、代码理解、性能优化和测试至关重要。它有助于分析问题、创建解决方案、纠正错误并确保软件可靠性。培养逻辑推理能力对于程序员来说，有助于系统性地思考并构建高效、可靠的软件 [56]。

MySQL 开发通常主要关注使用测试工具进行的简单测试，这可能会错过发现许多问题的机会。测试 MySQL 本身是一项艰巨的任务，仅依靠测试工具是不够的，无法暴露所有问题。优化在不同项目和环境中有所不同，使用真实在线流量使其更具针对性和有效性。因此，基于实时流量的 MySQL 优化非常有价值。

MySQL 性能优化严重依赖于缓解可伸缩性问题。MySQL 的增强版本解决了大多数可伸缩性问题，为进一步的优化奠定了坚实的基础。性能引导优化（PGO）对 MySQL 至关重要，随着可伸缩性问题的改善，其重要性将继续增长。利用更好的内存分配工具可以显著提高 MySQL 主从库重放的性能。

我们坚信，基于 Paxos 日志持久性的高可用性解决方案将是未来的趋势。我们在长期转型 Group Replication 方面的丰富经验为真正实现高可用性奠定了坚实的基础。MySQL 从库重放的速度决定了 MySQL 高可用性的质量。在数百万 tpmC 范围内实现重放速度是可能的，但需要持续的努力。

尽管 MySQL 优化是一个漫长而曲折的过程，但我们相信 MySQL 将会随着时间的推移而持续改进。

下一页
